import pandas as pd
import plotly.graph_objects as go

# Load the data
data = {
    "Amount": [288.72, 3.51, 8.01, 12.21, 44.22, 15.45, 25.33, 67.89, 156.78, 89.45, 234.56, 45.67, 78.90, 123.45, 567.89, 34.56, 78.90, 234.56, 456.78, 890.12],
    "Time": [19658.03, 126667.89, 116295.97, 134673.97, 167946.76, 87546.32, 145673.89, 65432.10, 123456.78, 98765.43, 156789.01, 87654.32, 109876.54, 134567.89, 167890.12, 76543.21, 145632.87, 189076.54, 198765.43, 156432.10],
    "V1": [0.085, -0.413, -1.613, -0.297, 0.956, 1.234, -0.567, 2.345, -1.789, 0.678, 3.456, -0.123, 1.567, -2.345, 0.789, 1.234, -0.567, 2.890, -1.234, 0.456],
    "V2": [0.558, -0.175, -1.716, 0.657, 0.362, -0.789, 1.234, -0.567, 2.345, -1.789, 0.678, 1.234, -0.567, 2.890, -1.234, 0.456, 1.789, -0.345, 2.567, -1.890],
    "V3": [1.552, -0.873, 1.347, -0.131, -2.017, 0.456, -1.234, 2.789, -0.567, 1.890, -2.345, 0.678, 1.234, -0.567, 2.890, -1.234, 0.456, 1.789, -0.345, 2.567],
    "V4": [-0.243, -1.553, 2.123, -0.604, 1.024, -0.789, 1.567, -2.345, 0.678, 1.234, -0.567, 2.890, -1.234, 0.456, 1.789, -0.345, 2.567, -1.890, 0.789, 1.234],
    "V5": [-0.730, 0.096, -1.323, -0.543, 1.185, 0.567, -1.890, 2.345, -0.678, 1.234, -0.567, 2.890, -1.234, 0.456, 1.789, -0.345, 2.567, -1.890, 0.789, 1.234],
    "V6": [-1.030, 0.922, -1.210, -0.495, -0.425, -0.678, 1.234, -0.567, 2.890, -1.234, 0.456, 1.789, -0.345, 2.567, -1.890, 0.789, 1.234, -0.567, 2.890, -1.234],
    "V7": [-1.950, -0.599, 1.444, -0.132, 0.429, 0.789, -1.234, 0.567, -2.890, 1.234, -0.456, 1.789, 0.345, -2.567, 1.890, -0.789, 1.234, 0.567, -2.890, 1.234],
    "V8": [0.967, -0.515, 0.473, -0.041, -0.347, -0.456, 1.789, -0.345, 2.567, -1.890, 0.789, 1.234, -0.567, 2.890, -1.234, 0.456, 1.789, -0.345, 2.567, -1.890],
    "V9": [-0.454, -0.970, -0.924, -1.699, 1.832, 0.567, -1.890, 2.345, -0.678, 1.234, -0.567, 2.890, -1.234, 0.456, 1.789, -0.345, 2.567, -1.890, 0.789, 1.234],
    "V10": [-1.856, -0.067, 0.107, 2.020, -0.531, 0.789, -1.234, 0.567, -2.890, 1.234, -0.456, 1.789, 0.345, -2.567, 1.890, -0.789, 1.234, 0.567, -2.890, 1.234],
    "Class": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0]
}

df = pd.DataFrame(data)

# Count class distribution
class_counts = df['Class'].value_counts().sort_index()
class_labels = ['Normal', 'Fraud']
class_values = [class_counts[0], class_counts[1]]

# Create bar chart
fig = go.Figure(data=[
    go.Bar(
        x=class_labels,
        y=class_values,
        marker_color=['#1FB8CD', '#FFC185'],
        text=class_values,
        textposition='auto',
        cliponaxis=False,
        hovertemplate='<b>%{x}</b><br>Count: %{y}<extra></extra>'
    )
])

fig.update_layout(
    title='Fraud vs Normal Class Distribution',
    xaxis_title='Class',
    yaxis_title='Count'
)

# Save the chart
fig.write_image('fraud_class_distribution.png')